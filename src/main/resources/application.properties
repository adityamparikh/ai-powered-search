spring.application.name=ai-powered-search
spring.threads.virtual.enabled=true

# Solr Configuration
solr.url=http://localhost:8983/solr

# Spring AI Configuration - Anthropic (for chat)
spring.ai.anthropic.api-key=${ANTHROPIC_API_KEY}
spring.ai.anthropic.chat.options.model=claude-sonnet-4-5
# Anthropic Prompt Caching Configuration
# Enable prompt caching to reduce costs and improve response times
# Caching can reduce costs by up to 90% and improve latency by up to 85%
spring.ai.anthropic.prompt-caching.enabled=${ANTHROPIC_PROMPT_CACHING_ENABLED:true}
spring.ai.anthropic.prompt-caching.strategy=${ANTHROPIC_PROMPT_CACHING_STRATEGY:SYSTEM_AND_TOOLS}

# Spring AI Configuration - OpenAI (for embeddings)
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.embedding.options.model=text-embedding-3-small
spring.ai.openai.embedding.options.dimensions=1536

# PostgreSQL Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/chatmemory
spring.datasource.username=${POSTGRES_USER:postgres}
spring.datasource.password=${POSTGRES_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# Chat Memory Configuration
spring.ai.chat.memory.repository.jdbc.initialize-schema=always
spring.ai.chat.memory.repository.type=jdbc
spring.main.allow-bean-definition-overriding=true

# Force Spring Boot to not use Jetty for REST clients
spring.http.client.factory=simple

# Swagger UI / OpenAPI Configuration
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

logging.level.org.springframework.ai.chat.client.advisor=debug
logging.level.dev.aparikh.aipoweredsearch=debug
